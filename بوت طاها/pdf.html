<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PDF Records</title>
<style>
body { text-align: center; font-family: "Macondo", cursive; padding: 20px; background-color: #40477F;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 200 200'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='100' y1='33' x2='100' y2='-3'%3E%3Cstop offset='0' stop-color='%23000' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23000' stop-opacity='1'/%3E%3C/linearGradient%3E%3ClinearGradient id='b' gradientUnits='userSpaceOnUse' x1='100' y1='135' x2='100' y2='97'%3E%3Cstop offset='0' stop-color='%23000' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23000' stop-opacity='1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='%23343c73' fill-opacity='0.6'%3E%3Crect x='100' width='100' height='100'/%3E%3Crect y='100' width='100' height='100'/%3E%3C/g%3E%3Cg fill-opacity='0.5'%3E%3Cpolygon fill='url(%23a)' points='100 30 0 0 200 0'/%3E%3Cpolygon fill='url(%23b)' points='100 100 0 130 0 100 200 100 200 130'/%3E%3C/g%3E%3C/svg%3E"); }
.card-container { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 20px; }
.card { padding: 15px; border: 2px solid black; border-radius: 25px; background-color: aliceblue; cursor: pointer; box-shadow: 0px 0px 10px #fff; transition: 0.3s; }
.card:hover { transform: scale(1.1); }
.searchbar { font-size: 1.2em; border: 2px solid black; border-radius: 25px; padding: 5px 10px; margin-bottom: 10px; }
.modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); justify-content: center; align-items: center; z-index: 1000; }
.modal-content { background: white; padding: 20px; border-radius: 20px; width: 80%; max-width: 600px; text-align: center; }
.close { font-size: 25px; cursor: pointer; float: right; }
iframe { width: 100%; height: 400px; border: none; }
</style>
</head>
<body>

<input type="text" class="searchbar" placeholder="Search..." onkeyup="searchPDFs()">
<div class="card-container" id="cardContainer"></div>

<!-- Modal -->
<div id="pdfModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">√ó</span>
    <h2 id="pdfTitle"></h2>
    <iframe id="pdfFrame"></iframe>
  </div>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
// Firebase config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  databaseURL: "https://mypdf-c6cb1-default-rtdb.firebaseio.com/",
  projectId: "YOUR_PROJECT",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "XXXX",
  appId: "XXXX"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Load PDFs
function loadPDFs() {
  const container = document.getElementById("cardContainer");
  container.innerHTML = "";
  db.ref("pdfs").once("value", snapshot => {
    snapshot.forEach(child => {
      const pdf = child.val();
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `<h2>${pdf.title}</h2>`;
      card.onclick = () => openModal(pdf.title, pdf.pdfBase64);
      container.appendChild(card);
    });
  });
}

// Search
function searchPDFs() {
  const input = document.querySelector(".searchbar").value.toUpperCase();
  document.querySelectorAll(".card h2").forEach(h2 => {
    h2.parentElement.style.display = h2.innerText.toUpperCase().includes(input) ? "" : "none";
  });
}

// Modal
function openModal(title, pdfSrc) {
  document.getElementById("pdfTitle").innerText = title;
  document.getElementById("pdfFrame").src = pdfSrc;
  document.getElementById("pdfModal").style.display = "flex";
}
function closeModal() {
  document.getElementById("pdfModal").style.display = "none";
}

window.onload = loadPDFs;
</script>
<button id="secretBtn" style="position:fixed;bottom:10px;right:10px;padding:10px;border-radius:10px;">üí°</button>

<script>
// ŸÉŸÑŸÖÿ© ÿßŸÑÿ≥ÿ±
const adminPassword = "RAZAK"; // ŸáŸÜÿß ÿ≠ÿ∑ ÿßŸÑŸÉŸÑŸÖÿ© ÿßŸÑŸÑŸä ÿπÿßŸäÿ≤Ÿáÿß

document.getElementById("secretBtn").onclick = function() {
  const input = prompt("Enter admin password:");
  if(input === adminPassword) {
    window.location.href = "admin.pdf.html"; // ÿ±ÿßÿ®ÿ∑ ÿµŸÅÿ≠ÿ© ÿßŸÑÿßÿØŸÖŸÜ
  } else if(input) {
    alert("Wrong password!");
  }
};
</script>

</body>
</html>
