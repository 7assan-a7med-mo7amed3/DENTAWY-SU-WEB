<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Records</title>
<style>
body { text-align: center; font-family: "Macondo", cursive; padding: 20px; background-color: #40477F;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 200 200'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='100' y1='33' x2='100' y2='-3'%3E%3Cstop offset='0' stop-color='%23000' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23000' stop-opacity='1'/%3E%3C/linearGradient%3E%3ClinearGradient id='b' gradientUnits='userSpaceOnUse' x1='100' y1='135' x2='100' y2='97'%3E%3Cstop offset='0' stop-color='%23000' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%23000' stop-opacity='1'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='%23343c73' fill-opacity='0.6'%3E%3Crect x='100' width='100' height='100'/%3E%3Crect y='100' width='100' height='100'/%3E%3C/g%3E%3Cg fill-opacity='0.5'%3E%3Cpolygon fill='url(%23a)' points='100 30 0 0 200 0'/%3E%3Cpolygon fill='url(%23b)' points='100 100 0 130 0 100 200 100 200 130'/%3E%3C/g%3E%3C/svg%3E"); }
.card-container { display: flex; flex-wrap: wrap; justify-content:center; gap:20px; margin-top:20px; }
.card { background: aliceblue; padding:15px; border-radius:25px; border:2px solid black; cursor:pointer; box-shadow:0 0 10px #fff; transition:0.3s; }
.card:hover { transform: scale(1.1); }
.searchbar { padding:5px 10px; border-radius:25px; border:2px solid black; margin-bottom:10px; }
.modal { display: none; position: fixed; inset:0; background: rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:1000; }
.modal-content { background:white; padding:20px; border-radius:20px; width:300px; text-align:center; }
.close { font-size:25px; cursor:pointer; float:right; }
</style>
</head>
<body>

<input type="text" class="searchbar" placeholder="Search..." onkeyup="searchLectures()">
<div class="card-container" id="cardContainer"></div>

<!-- Modal -->
<div id="recordModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">√ó</span>
    <h2 id="recordTitle"></h2>
    <audio id="recordAudio" controls>
      <source src="" type="audio/aac">
      Your browser does not support audio.
    </audio>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyXXXXXXX-XXXXXXX",
  authDomain: "myrecords.firebaseapp.com",
  databaseURL: "https://myrecords-54e3c-default-rtdb.firebaseio.com",
  projectId: "myrecords",
  storageBucket: "myrecords.appspot.com",
  messagingSenderId: "1234567890",
  appId: "1:1234567890:web:abcdef123456"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Load lectures
function loadLectures() {
  const container = document.getElementById("cardContainer");
  container.innerHTML = "";
  db.ref("lectures").once("value", snapshot => {
    snapshot.forEach(child => {
      const lec = child.val();
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `<h2>${lec.title}</h2>`;
      card.onclick = () => openModal(lec.title, lec.audioBase64);
      container.appendChild(card);
    });
  });
}

// Search
function searchLectures() {
  const input = document.querySelector(".searchbar").value.toUpperCase();
  document.querySelectorAll(".card h2").forEach(h2 => {
    h2.parentElement.style.display = h2.innerText.toUpperCase().includes(input) ? "" : "none";
  });
}

// Modal
function openModal(title, audioSrc) {
  document.getElementById("recordTitle").innerText = title;
  const audio = document.getElementById("recordAudio");
  audio.src = audioSrc;
  audio.play();
  document.getElementById("recordModal").style.display = "flex";
}
function closeModal() {
  const modal = document.getElementById("recordModal");
  const audio = document.getElementById("recordAudio");
  audio.pause();
  audio.currentTime = 0;
  modal.style.display = "none";
}

window.onload = loadLectures;
</script>
<!-- ÿ≤ÿ± ÿ≥ÿ±Ÿä -->
<button id="secretBtn" style="position:fixed;bottom:10px;right:10px;padding:10px;border-radius:10px;">üí°</button>

<script>
// ŸÉŸÑŸÖÿ© ÿßŸÑÿ≥ÿ±
const adminPassword = "RAZAK"; // ŸáŸÜÿß ÿ≠ÿ∑ ÿßŸÑŸÉŸÑŸÖÿ© ÿßŸÑŸÑŸä ÿπÿßŸäÿ≤Ÿáÿß

document.getElementById("secretBtn").onclick = function() {
  const input = prompt("Enter admin password:");
  if(input === adminPassword) {
    window.location.href = "admin.html"; // ÿ±ÿßÿ®ÿ∑ ÿµŸÅÿ≠ÿ© ÿßŸÑÿßÿØŸÖŸÜ
  } else if(input) {
    alert("Wrong password!");
  }
};
</script>


</body>
</html>
